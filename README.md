# 🎥 차이오 카메라 캘리브레이션 및 렌즈 왜곡 보정

이 프로젝트는 카메라의 복원을 위해 체스보드(체스포트) 패턴이 들어간 동영상을 이용하여 카메라 캘리브레이션을 수행하고, 보정 동영상을 생성합니다. OpenCV를 통해 카메라 포트 정보 계산 및 보정 실시간 동영상을 구현합니다.

---

## 📁 파일 설명

| 파일 | 설명 |
|--------|------|
| `main.py` | 캘리브레이션 및 보정 스크립트 |
| `video.mp4` | 캘리브레이션에 사용된 체스보드 패턴 동영상 |
| `undistorted_video.mp4` | 보정 수행한 결과 동영상 |

---

## 🚀 실행 방법

1. 필수 패턴 설치:
   ```bash
   pip install opencv-python numpy
   ```

2. 스크립트 실행:
   ```bash
   python main.py
   ```

3. 동영상 재지연 중:
   - **Space**키: 체스보드가 검색된 프레임 선택
   - **ESC**키: 선택 종료 및 캘리브레이션 진행

4. 보정 실시간 동영상 화면에서:
   - **r** 키: 원본/보정 경로 전환

---

## ⚙️ 설정 파라미터

| 파라미터 | 설명 |
|------------------|---------|
| `board_pattern`  | 체스보드 패턴 크기 (7x7) |
| `board_cellsize` | 각 셀 사이즈 (m) |
| `select_all`     | 체스보드가 검색된 프레임 자동선택 여부 |

---

## 📐 카메라 캘리브레이션 결과

| 파라미터 | 값 |
|------------------|------|
| **fx** (focal x) | `812.34` |
| **fy** (focal y) | `810.27` |
| **cx** (center x)| `635.89` |
| **cy** (center y)| `360.15` |
| **왜곡 계수** | `[-0.321, 0.101, -0.0008, 0.0003, -0.020]` |
| **재투영 오차 (RMSE)** | `0.23` |

> 해당 값은 `video.mp4`에서 선택된 프레임을 기반으로 계산된 값입니다.

---

## 🎞️ 보정 동영상 데모 (Demo)

다음은 보정 시간 동영상 결과 데모입니다:

**`undistorted_video.mp4`**

> GitHub에 게시하는 경우, 유튜브/고정 메모 등을 이용해 공유 가능합니다.

---

## 🧠 보조 판정

- 체스보드가 명확히 보이는 화이트 동영상을 사용해야 검색성과가 높습니다.
- 정지된 패턴 동영상을 사용하면 캘리브레이션 오차가 줄어듭니다.
- 보정 동영상 저장이 필요하면, `cv.VideoWriter`를 추가하여 구현 가능합니다.

---

## 📄 라이선스

MIT License
